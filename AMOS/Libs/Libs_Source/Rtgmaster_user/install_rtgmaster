(set #UpDateNo    "Do not update")
(set #UpDateIfNew "Update, if newer")
(set #AlwaysUpDate  "Update Always.")
(set #installwhat "What do you install of the Following?")
(set #guidedocs "AmigaGuide File")
(set #WhereToPut "Select where to put the files.\n(A directory called \"RTGMaster_User\" will be created at that place!)")
(set #ctp "Install the rtgmaster c2p package ?")
(set #install "RtgMaster c2p Package")
(set #Demos "RtgMaster Demos")
(set #Nope "No")
(set #Yeah "Yes")
(set app-name "Rtgmaster")
(if(<(/(getversion)65536)36)
(abort "Rtgmaster needs at least OS2.0\n"))
(complete 0)
(if(not(exists("libs:rtg")))
(makedir("libs:rtg")(infos)))
(if(not(exists("libs:rtgc2p")))
(makedir("libs:rtgc2p")(infos)))
(if(askchoice(choices #Nope #Yeah)
(prompt("Do you want to delete any old versions of rtgmaster? \nThis is recommended, if old versions did not run on your system.\n"))
(help "")(default 1))
((delete "libs:rtg/#?")
(delete "libs:rtgmaster.library")
(delete "libs:rtgc2p/c2p-garbage/#?")
(delete "libs:rtgc2p/strange_c2p/#?")
(delete "libs:rtgc2p/#?")
(delete "envarc:rtgmaster/#?")
(delete "env:rtgmaster/#?")))
(set rtg1 (/(getversion "libs:rtgmaster.library")65536))
(set rtg2 (-(getversion "libs:rtgmaster.library")(* rtg1 65536)))
(set rtg3 (/(getversion "libs/rtgmaster.library")65536))
(set rtg4 (-(getversion "libs/rtgmaster.library")(* rtg3 65536)))
(set upd (askchoice
(choices #UpDateNo #UpDateIfNew #AlwaysUpDate)
(help "rtgmaster.library is the main-library of rtgmaster. You HAVE TO install it. ")
(default 1)
(prompt("Currently installed rtgmaster.library :\nVersion : %ld.%ld\n\nVersion from Update : %ld.%ld\n\nInstall Version %ld.%ld of 'rtgmaster.library' from Update ?\n" rtg1 rtg2 rtg3 rtg4 rtg3 rtg4))))
(if(= upd 1)(copylib (source "libs/rtgmaster.library")(dest "libs:")))
(if(= upd 2)(copyfiles
(prompt("Copying now 'rtgmaster.library' to Libs:"))
(source"libs/rtgmaster.library")
(dest"libs:")(confirm)(infos)(help "")))
(complete 20)
(set upd (askchoice
(choices #Nope #Yeah)
(prompt("Sublibraries :\nDo you wish to install the needed Sublibraries ?\nThis is recommended, because rtgmaster won't work without them.\n"))
(help "In order to work rtgmaster needs the sublibraries.")
(default 1)))
(set rtg1(/(getversion "libs:cgxsystem.library")65536))
(if(= upd 1)
((if(> rtg1 0)
(copyfiles
(prompt "Copying now 'rtgCGX.library' to Libs:rtg")
(source "libs/rtg/rtgCGX.library")(dest "libs:rtg")
(confirm)(infos)(help "")(set upd 2)))))
(set rtg1(/(getversion "libs:egs.library")65536))
(if(= upd 1)
((if(> rtg1 0)
(copyfiles
(prompt "Copying now 'rtgEGS.library' to Libs:rtg")
(source "libs/rtg/rtgEGS.library")(dest "libs:rtg")
(confirm)(infos)(help "")))))
(set rtg1(/(getversion "libs:cybergraphics.library")65536))
(if(= upd 1)
((if(> rtg1 0)(copyfiles
(prompt "Copying now 'rtgCGX.library' to Libs:rtg")
(source "libs/rtg/rtgCGX.library")(dest "libs:rtg:")
(confirm)(help "")(infos)(set upd 2)))))
(set rtg1(/(getversion "libs:Picasso96API.library")65536))
(if(= upd 1)
((if(> rtg1 1)(copyfiles
(prompt "Copying now 'rtgP96.library' to Libs:Rtg")
(source "libs/rtg/rtgP96.library")(dest "libs:rtg")
(help "")(confirm)(infos)(set upd 2)))))
(set rtg1(/(getversion "libs:hrgsystem.library")65536))
(if(= upd 1)
((if(> rtg1 0)
(copyfiles
(prompt "Copying 'libs:rtg/rtgCGX.library' to Libs:Rtg")(help "")
(source "libs/rtg/rtgCGX.library")(dest "libs:rtg")
(confirm)(infos)(set upd 2)))))
(if(= upd 1)
((copyfiles (help "")
(prompt "Copying now 'libs:rtg/rtgAMI.library' to Libs:rtg")
(source "libs/rtg/rtgAMI.library")(dest "libs:rtg")
(confirm)(infos))))
(if(= upd 2)
((copyfiles
(prompt "Copying npw 'libs:rtg/rtgAMI.library' to Libs:rtg")
(source "libs/rtg/rtgAMI.library")(dest "libs:rtg")
(help "")(confirm)(infos))))
(complete 50)
(set Additional(askoptions(choices #guidedocs #demos)
(help "")(prompt #installwhat)(default 3)))
(if(<> Additional 0)
((set RtgMaster(askdir(prompt #WhereToPut)
(help   #WhereToPut)
(default "Sys:")))
(if(< (exists(tackon RtgMaster "RtgMaster_User")) 2)
(makedir(tackon RtgMaster "RtgMaster_User")(infos)))
(set whereput(tackon RtgMaster "RtgMaster_User"))
(set @default-dest RtgMaster)
(if (IN Additional 0)
(((copyfiles(source "rtgmaster_user.guide")(dest whereput)(infos)(help "")(newname "rtgmaster_user.guide")))))
(complete 60)
(if(IN Additional 1)
((if(< (exists(tackon whereput "Demos"))2)
(makedir(tackon whereput "Demos")(infos)))
(copyfiles(source "demos")(help "")(dest(tackon whereput "demos"))(all))))
(complete 80)
(set RtgMaster whereput)
(set c2p(askoptions(choices #install)(prompt "\nThe c2p algorithms are needed for ECS/AGA\nDo you wish to install them ?\n")
(help #install)(default 1)))
(if(IN c2p 0)((copyfiles(source "libs/rtgc2p")(help"")(dest("libs:rtgc2p"))(all))))))
(complete 100)
(exit "You should reboot now. "
      "Check your devs:monitors directory, if you have "
      "installed a monitor driver there. GFX Board users "
      "always have something installed there, ECS/AGA "
      "users not always. If you are a ECS/AGA user "
      "and do not have something installed there, "
      "please copy PAL or NTSC from sys:Storage to "
      "devs:monitors. ")

